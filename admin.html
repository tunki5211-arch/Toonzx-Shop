<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ADMIN PANEL</title>

<style>
body{
  margin:0;
  font-family:Consolas, monospace;
  background:#020216;
  color:#00ffff;
}
header{
  text-align:center;
  padding:15px;
  box-shadow:0 0 15px #00ffff;
}
.container{padding:15px}
input,button{
  width:100%;
  padding:10px;
  margin:5px 0;
  font-size:16px;
}
button{
  background:#00ffff;
  border:none;
  font-weight:bold;
}
.hidden{display:none}
.order{
  border:1px solid #00ffff;
  padding:10px;
  margin:10px 0;
}
.success{border-color:#00ff00;color:#00ff00}
.wait{border-color:#ffff00;color:#ffff00}
.total{
  border:2px solid #ff00ff;
  padding:10px;
  margin:15px 0;
  text-align:center;
}
</style>
</head>

<body>

<header>
  <h2>üîê ADMIN PANEL</h2>
</header>

<div class="container">

<!-- LOGIN -->
<div id="loginBox">
  <input type="password" id="adminPass" placeholder="‡∏£‡∏´‡∏±‡∏™‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô">
  <button onclick="login()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
</div>

<!-- PANEL -->
<div id="panel" class="hidden">

  <div class="total" id="totalSales">üí∞ ‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏£‡∏ß‡∏°: 0 ‡∏ö‡∏≤‡∏ó</div>

  <h3>‚è≥ ‡∏£‡∏≠‡∏ï‡∏£‡∏ß‡∏à</h3>
  <div id="waitOrders"></div>

  <h3>‚úÖ ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</h3>
  <div id="doneOrders"></div>

</div>
</div>

<script>
const ADMIN_PASSWORD = "Toonzx919921";

function login(){
  if(adminPass.value !== ADMIN_PASSWORD){
    alert("‚ùå ‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
    return;
  }
  loginBox.classList.add("hidden");
  panel.classList.remove("hidden");
  loadOrders();
}

function loadOrders(){
  let orders = JSON.parse(localStorage.getItem("orders")) || [];
  waitOrders.innerHTML = "";
  doneOrders.innerHTML = "";
  let total = 0;

  orders.forEach((o,i)=>{
    let sum = o.items.reduce((s,it)=>s+Number(it.price||0),0);
    if(o.status==="‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à") total += sum;

    let div = document.createElement("div");
    div.className = "order " + (o.status==="‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à"?"success":"wait");
    div.innerHTML = `
      <b>üë§ ${o.name}</b><br>
      üì¶ ${o.items.map(it=>it.name).join(", ")}<br>
      üíµ ${sum} ‡∏ö‡∏≤‡∏ó<br>
      ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ${o.status}<br><br>
      ${o.status!=="‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à"
        ? `<button onclick="done(${i})">‚úî ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</button>`
        : ""}
      <button onclick="del(${i})">üóë ‡∏•‡∏ö</button>
    `;
    (o.status==="‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à"?doneOrders:waitOrders).appendChild(div);
  });

  totalSales.innerText = "üí∞ ‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏£‡∏ß‡∏°: " + total + " ‡∏ö‡∏≤‡∏ó";
}

function done(i){
  let o = JSON.parse(localStorage.getItem("orders"));
  o[i].status="‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à";
  localStorage.setItem("orders",JSON.stringify(o));
  loadOrders();
}

function del(i){
  let o = JSON.parse(localStorage.getItem("orders"));
  if(!confirm("‡∏•‡∏ö‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ?")) return;
  o.splice(i,1);
  localStorage.setItem("orders",JSON.stringify(o));
  loadOrders();
}
</script>

</body>
</html>
