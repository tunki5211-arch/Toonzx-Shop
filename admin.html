<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ADMIN</title>

<style>
body{font-family:Consolas;background:#000;color:#0ff;padding:20px}
.card{border:1px solid #0ff;padding:10px;margin:10px}
button{padding:5px;margin:5px}
input{padding:5px;width:100%}
</style>
</head>

<body>

<h2>ğŸ” ADMIN LOGIN</h2>
<input id="pass" type="password" placeholder="à¸£à¸«à¸±à¸ªà¹à¸­à¸”à¸¡à¸´à¸™">
<button onclick="login()">à¹€à¸‚à¹‰à¸²</button>

<div id="panel" style="display:none">

<h3>ğŸ“¦ à¸ªà¸´à¸™à¸„à¹‰à¸²</h3>
<div id="products"></div>

<input id="pname" placeholder="à¸Šà¸·à¹ˆà¸­à¸ªà¸´à¸™à¸„à¹‰à¸²">
<input id="pprice" type="number" placeholder="à¸£à¸²à¸„à¸²">
<button onclick="addProduct()">à¹€à¸à¸´à¹ˆà¸¡à¸ªà¸´à¸™à¸„à¹‰à¸²</button>

<hr>

<h3>ğŸ“‹ à¸­à¸­à¹€à¸”à¸­à¸£à¹Œ</h3>
<div id="orders"></div>

</div>

<script>
const ADMIN="919921";

function login(){
 if(pass.value!==ADMIN)return alert("à¸£à¸«à¸±à¸ªà¸œà¸´à¸”");
 panel.style.display="block";
 loadProducts();loadOrders();
}

function loadProducts(){
 let p=JSON.parse(localStorage.getItem("products"))||[];
 products.innerHTML="";
 p.forEach((x,i)=>{
  products.innerHTML+=`
   <div class="card">
    <input value="${x.name}" onchange="editName(${i},this.value)">
    <input type="number" value="${x.price}" onchange="editPrice(${i},this.value)">
    <button onclick="delProduct(${i})">à¸¥à¸š</button>
   </div>`;
 });
}

function addProduct(){
 let p=JSON.parse(localStorage.getItem("products"))||[];
 p.push({name:pname.value,price:Number(pprice.value)});
 localStorage.setItem("products",JSON.stringify(p));
 loadProducts();
}

function editName(i,v){
 let p=JSON.parse(localStorage.getItem("products"));
 p[i].name=v;localStorage.setItem("products",JSON.stringify(p));
}
function editPrice(i,v){
 let p=JSON.parse(localStorage.getItem("products"));
 p[i].price=v;localStorage.setItem("products",JSON.stringify(p));
}
function delProduct(i){
 let p=JSON.parse(localStorage.getItem("products"));
 p.splice(i,1);localStorage.setItem("products",JSON.stringify(p));
 loadProducts();
}

function loadOrders(){
 let o=JSON.parse(localStorage.getItem("orders"))||[];
 orders.innerHTML="";
 o.forEach((x,i)=>{
  orders.innerHTML+=`
   <div class="card">
    ${x.customer}<br>
    ${x.items.map(it=>it.name).join(", ")}<br>
    à¸ªà¸–à¸²à¸™à¸°: ${x.status}
    <button onclick="done(${i})">à¸ªà¸³à¹€à¸£à¹‡à¸ˆ</button>
   </div>`;
 });
}

function done(i){
 let o=JSON.parse(localStorage.getItem("orders"));
 o[i].status="à¸ªà¸³à¹€à¸£à¹‡à¸ˆ";
 localStorage.setItem("orders",JSON.stringify(o));
 loadOrders();
}
</script>
</body>
</html>
