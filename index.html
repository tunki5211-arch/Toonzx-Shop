<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ROBLOX SHOP</title>

<style>
body{
  margin:0;
  font-family:Consolas, monospace;
  background:#020216;
  color:#00ffff;
}
header{
  text-align:center;
  padding:20px;
  box-shadow:0 0 15px #00ffff;
}
button{
  padding:10px;
  width:100%;
  background:#00ffff;
  border:none;
  font-weight:bold;
  margin-top:5px;
}
.container{
  padding:20px;
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
  gap:15px;
}
.card{
  border:1px solid #00ffff;
  padding:15px;
}
.cart, .qr{
  padding:20px;
  margin:20px;
  border:2px solid #00ffff;
}
.total{
  color:#ff00ff;
  font-weight:bold;
}
.logout{
  background:#ff0044;
  color:white;
}
</style>
</head>

<body>

<script>
/* üîê ‡∏ï‡∏£‡∏ß‡∏à login */
let user = localStorage.getItem("login_user");
if(!user){
  location.href="login.html";
}
</script>

<header>
  <h1>üß± ROBLOX ITEM SHOP</h1>
  <p>‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ: <b id="username"></b></p>
  <button class="logout" onclick="logout()">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
</header>

<!-- SHOP -->
<div class="container" id="shop"></div>

<!-- CART -->
<div class="cart">
  <h3>üõí ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h3>
  <div id="cart"></div>
  <p class="total">‡∏£‡∏ß‡∏°: <span id="total">0</span> ‡∏ö‡∏≤‡∏ó</p>
</div>

<!-- UPLOAD -->
<div class="cart">
  <h3>üì§ ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏•‡∏¥‡∏õ</h3>
  <input type="file"><br><br>
  <button onclick="checkout()">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</button>
</div>

<!-- PROMPTPAY -->
<div class="qr">
  <h3>üí∏ PromptPay</h3>
  <p>‡∏ä‡∏∑‡πà‡∏≠: ‡∏ê‡∏¥‡∏ï‡∏¥‡∏Ñ‡∏∏‡∏ì</p>
  <p>‡πÄ‡∏•‡∏Ç: <b id="pp">0648129492</b></p>
  <button onclick="copyPP()">üìã ‡∏Å‡πä‡∏≠‡∏õ‡πÄ‡∏•‡∏Ç PromptPay</button>
  <p>‚ö†Ô∏è ‡πÇ‡∏≠‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏´‡πâ‡∏ó‡∏±‡∏Å‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô</p>
</div>

<script>
document.getElementById("username").innerText = user;

/* ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ */
let products = JSON.parse(localStorage.getItem("products")) || [
 {name:"Robux 400", price:150},
 {name:"Robux 800", price:299},
 {name:"VIP Server", price:99}
];

let cart = [];

function renderShop(){
  shop.innerHTML="";
  products.forEach((p,i)=>{
    shop.innerHTML+=`
    <div class="card">
      <h3>${p.name}</h3>
      <p>${p.price} ‡∏ö‡∏≤‡∏ó</p>
      <button onclick="addCart(${i})">‡πÄ‡∏û‡∏¥‡πà‡∏°</button>
    </div>`;
  });
}
renderShop();

function addCart(i){
  cart.push(products[i]);
  renderCart();
}

function renderCart(){
  cartBox.innerHTML="";
  let sum=0;
  cart.forEach((c)=>{
    cartBox.innerHTML+=`${c.name} - ${c.price} ‡∏ö‡∏≤‡∏ó<br>`;
    sum+=c.price;
  });
  total.innerText=sum;
}

function checkout(){
  if(cart.length==0) return alert("‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤");

  let orders = JSON.parse(localStorage.getItem("orders")) || [];
  orders.push({
    customer:user,
    items:cart,
    total: total.innerText,
    status:"‡∏£‡∏≠‡∏ï‡∏£‡∏ß‡∏à",
    time:new Date().toLocaleString()
  });
  localStorage.setItem("orders",JSON.stringify(orders));

  alert("‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡πÇ‡∏≠‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏´‡πâ‡∏ó‡∏±‡∏Å‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô");
  cart=[];
  renderCart();
}

function copyPP(){
  navigator.clipboard.writeText("0648129492");
  alert("‡∏Å‡πä‡∏≠‡∏õ‡πÄ‡∏•‡∏Ç PromptPay ‡πÅ‡∏•‡πâ‡∏ß");
}

function logout(){
  localStorage.removeItem("login_user");
  location.href="login.html";
}

/* element shortcuts */
const shop=document.getElementById("shop");
const cartBox=document.getElementById("cart");
const total=document.getElementById("total");
</script>

</body>
</html>
