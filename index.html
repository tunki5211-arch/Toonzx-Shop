<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ROBLOX SHOP</title>

<style>
body{margin:0;font-family:Consolas;background:#020216;color:#00ffff}
header{text-align:center;padding:20px;box-shadow:0 0 15px #00ffff}
h2{text-align:center}
.shop,.admin{padding:20px}
.card{border:1px solid #00ffff;padding:15px;margin:10px}
.featured{border:2px solid #ff00ff;box-shadow:0 0 15px #ff00ff}
button{padding:10px;width:100%;background:#00ffff;border:none;font-weight:bold;margin-top:5px}
input{width:100%;padding:10px;margin:5px 0}
.hidden{display:none}
.order{border:1px solid #00ffff;padding:10px;margin:10px}
.qr{margin:20px auto;padding:15px;border:2px solid #00ffff;max-width:260px;text-align:center}
</style>
</head>

<body>

<header>
<h1>üß± ROBLOX ITEM SHOP</h1>
<button onclick="toggleAdmin()">üîê ‡πÄ‡∏Ç‡πâ‡∏≤‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô</button>
</header>

<!-- SHOP -->
<div class="shop">
<h2>üõí ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h2>
<div id="shop"></div>

<h3>üì§ ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏•‡∏¥‡∏õ</h3>
<input id="customer" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤">
<input type="file" id="slip">

<div class="qr">
  <h3>üí∏ PromptPay</h3>
  <div id="totalPrice">‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°: 0 ‡∏ö‡∏≤‡∏ó</div>
  <img id="qrImg">
  <p>‡∏™‡πÅ‡∏Å‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô</p>
</div>

<button onclick="checkout()">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</button>
</div>

<!-- ADMIN -->
<div class="admin hidden" id="admin">
<h2>üîê ADMIN</h2>
<input id="adminPass" type="password" placeholder="‡∏£‡∏´‡∏±‡∏™‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏™‡∏∏‡∏î‡∏´‡∏•‡πà‡∏≠">
<button onclick="login()">‡πÄ‡∏Ç‡πâ‡∏≤‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô</button>

<div id="panel" class="hidden">
<h3>üìä ‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå</h3>
<div id="orders"></div>

<h3>‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h3>
<input id="pname" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤">
<input id="pprice" placeholder="‡∏£‡∏≤‡∏Ñ‡∏≤">
<label><input type="checkbox" id="pfea"> ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</label>
<button onclick="addProduct()">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</button>
</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
<script>
const ADMIN_PASSWORD="919921";
const PROMPTPAY_ID="0648129492 ‡∏ß‡∏≠‡πÄ‡∏•‡πá‡∏ï ‡∏ê‡∏¥‡∏ï‡∏¥‡∏Ñ‡∏∏‡∏ì; // üî• ‡πÉ‡∏™‡πà PromptPay ‡∏Ñ‡∏∏‡∏ì

let products=JSON.parse(localStorage.getItem("products"))||[
 {name:"Robux 800",price:299,featured:true},
 {name:"Robux 400",price:150,featured:false},
 {name:"VIP Server",price:99,featured:false}
];

let cart=[];

function renderShop(){
 shop.innerHTML="";
 products.forEach((p,i)=>{
  shop.innerHTML+=`
  <div class="card ${p.featured?'featured':''}">
   <h3>${p.name}</h3>
   <p>${p.price} ‡∏ö‡∏≤‡∏ó</p>
   <button onclick="addCart(${i})">‡∏ã‡∏∑‡πâ‡∏≠</button>
  </div>`;
 });
 localStorage.setItem("products",JSON.stringify(products));
}
renderShop();

function addCart(i){
 cart.push(products[i]);
 updateQR();
 alert("‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß");
}

function updateQR(){
 let total=cart.reduce((s,x)=>s+x.price,0);
 totalPrice.innerText="‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°: "+total+" ‡∏ö‡∏≤‡∏ó";
 if(total===0){qrImg.src="";return;}

 let payload=
`00020101021229370016A000000677010111${PROMPTPAY_ID.length.toString().padStart(2,"0")}${PROMPTPAY_ID}5802TH530376454${total.toFixed(2).replace(".","")}6304`;

 QRCode.toDataURL(payload,(e,url)=>qrImg.src=url);
}

function checkout(){
 if(cart.length==0)return alert("‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤");
 let orders=JSON.parse(localStorage.getItem("orders"))||[];
 orders.push({
  name:customer.value,
  items:cart,
  status:"‡∏£‡∏≠‡∏ï‡∏£‡∏ß‡∏à",
  slip:slip.files[0]?.name||"-"
 });
 localStorage.setItem("orders",JSON.stringify(orders));
 alert("‡πÇ‡∏≠‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏´‡πâ‡∏ó‡∏±‡∏Å‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô");
 cart=[];
 updateQR();
}

function toggleAdmin(){admin.classList.toggle("hidden");}

function login(){
 if(adminPass.value!==ADMIN_PASSWORD)return alert("‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏¥‡∏î");
 panel.classList.remove("hidden");
 loadOrders();
}

function loadOrders(){
 orders.innerHTML="";
 let o=JSON.parse(localStorage.getItem("orders"))||[];
 o.forEach((x,i)=>{
  orders.innerHTML+=`
  <div class="order">
   <b>${x.name}</b><br>
   ${x.items.map(it=>it.name).join(", ")}<br>
   Slip: ${x.slip}<br>
   ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ${x.status}<br>
   <button onclick="done(${i})">‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</button>
   <button onclick="del(${i})">‡∏•‡∏ö</button>
  </div>`;
 });
}

function done(i){
 let o=JSON.parse(localStorage.getItem("orders"));
 o[i].status="‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à";
 localStorage.setItem("orders",JSON.stringify(o));
 loadOrders();
}

function del(i){
 let o=JSON.parse(localStorage.getItem("orders"));
 o.splice(i,1);
 localStorage.setItem("orders",JSON.stringify(o));
 loadOrders();
}

function addProduct(){
 products.push({
  name:pname.value,
  price:Number(pprice.value),
  featured:pfea.checked
 });
 pname.value=pprice.value="";
 pfea.checked=false;
 renderShop();
}
</script>

</body>
</html>
